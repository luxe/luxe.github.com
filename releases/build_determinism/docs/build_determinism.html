<h1 id="introduction">Introduction</h1>
<p>When evaluating the determinism of building certain targets use this tool. It runs various bazel query commands to construct spawn information for all of the subcommands. These subcommands are analyzed for nondeterminism.</p>
<h1 id="installation">Installation</h1>
<p>Software can be installed through apt-get. The following commands will add the ppa and install the software.</p>
<pre><code>sudo curl -s --compressed -o /etc/apt/sources.list.d/build_determinism.list &#39;https://raw.githubusercontent.com/luxe/luxe.github.com/master/releases/build_determinism/build_determinism.list&#39;
sudo apt update
sudo apt install build_determinism
</code></pre>
<p>The debian file can also be installed/uninstalled directly. To uninstall you can use:</p>
<pre><code>sudo apt remove build_determinism</code></pre>
<h1 id="command-line">Command Line</h1>
<p>The tool can be used from the command line.</p>
<pre><code>test for build determinism on a particular target:
  --target arg           what you would pass to bazel build
  --url arg              git url to clone with
  --run_dir arg          where to run the analysis
  --branch arg           which branch to run the experiment on
  --synthesize_problems  synthesize the nondeterminism problems in a human 
                         friendly way
  --output_dir arg       the directory to output graph artifacts
  --bazel arg            the name of the bazel runner (useful if repo has a 
                         bazel wrapper or using bazelisk)
  --environment_scan arg try the A/B tests in different environments n number 
                         of times to evaluate any flakiness of nondeterminism
  --augment_scan arg     try the A/B tests with different augmentations on the 
                         environment n number of times to evaluate any 
                         flakiness of nondeterminism
  --verbose              show verbose progress
  -h [ --help ]          produce this help message
  -v [ --version ]       display version
</code></pre>
