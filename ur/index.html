<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Trevor and Katie's Royal Game Of Ur</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->



<style>
body {
    background-color: linen;
}
#result{
	font-size: 40px;
}
</style>
</head>

<body>
  <script>

/* utility */
function Copy1(a)
{
  return $.extend(true,[],a);
}
function Copy2(a)
{
  return JSON.parse(JSON.stringify(a));
}

function randomXToY(minVal,maxVal)
{
  var randVal = minVal+(Math.random()*(maxVal-minVal));
  return Math.round(randVal);
}

function random_bg_color() {
    var x = Math.floor(Math.random() * 256);
    var y = Math.floor(Math.random() * 256);
    var z = Math.floor(Math.random() * 256);
    var bgColor = "rgb(" + x + "," + y + "," + z + ")";
 console.log(bgColor);
  
    document.body.style.background = bgColor;
    }

function get_random_cat(){
    number = randomXToY(1,9)
    if (number == 1){
        return "😺"
    }
     if (number == 2){
        return "😸"
    }   
     if (number == 3){
        return "😹"
    }
     if (number == 4){
        return "😻"
    }
     if (number == 5){
        return "😼"
    }
     if (number == 6){
        return "😽"
    }
     if (number == 7){
        return "🙀"
    }
     if (number == 8){
        return "😿"
    }
     if (number == 9){
        return "😾"
    }
    return "💩"
}

function Calculate() {
  window.setTimeout(function() {

    result = ""
    numbers = ""
    for (i = 0; i < 4; ++i){
        number = randomXToY(1,4)
        numbers += String(number)
		if (number == 2){
		   result += "🐧"
		}
		else{
		   result += get_random_cat()
		}
    }


    //document.getElementById("result").innerHTML = numbers
    document.getElementById("result").innerHTML = result + "<br>"
    random_bg_color()

	   if (result == "🐧🐧🐧🐧"){
	       document.getElementById("result").innerHTML += "<img src='dab.png'>"
	   }

    }, 50);
}

function run_simulation(scenarios,supplier_items,desired_lengths)
{
  //create all the possible scenarios when evaluating the next cut
  for (var i = 0; i < desired_lengths.length; ++i){
    scenarios = derive_possibilities(Copy2(scenarios),supplier_items,desired_lengths[i])
  }
  return scenarios
}

function derive_possibilities(scenarios,supplier_items,desired_length)
{
  //expand all the current scenarios based on the next cut
  var new_scenarios = []
  var add_these = []
  
  for (var i = 0; i < scenarios.length; ++i){
    add_these = expand_scenarios(scenarios[i],supplier_items,desired_length)
    new_scenarios = Copy2(new_scenarios.concat(Copy2(add_these)))
    
    console.log(new_scenarios.length + " " + $.uniqueSort(new_scenarios).length)
  }
  return new_scenarios
}

function expand_scenarios(s,supplier_items,desired_length){
  
  var new_scenarios = []
  //make cuts on available pieces
  for (var i = 0; i < s.purchased_items.length; ++i){
    //if we can cut the piece, create that scenario
    if (s.purchased_items[i].length >= desired_length){
     var new_scenario = new scenario(Copy2(s.purchased_items))
     new_scenario.purchased_items[i].length -= desired_length
     new_scenario.purchased_items[i].cuts.push(desired_length)
     //new_scenario.purchased_items[i].cuts.sort()
     new_scenarios.push(new_scenario)
     //new_scenarios.sort()
    }
  }
  
  //buy new pieces and make cuts on them
  for (var i = 0; i < supplier_items.length; ++i){
    if (supplier_items[i].length >= desired_length){
       var new_scenario = new scenario(Copy2(s.purchased_items))
        
        //buy and cut the piece
        var purchased = new purchased_item(supplier_items[i].length,supplier_items[i].price,[])
        purchased.length -= desired_length
        purchased.cuts.push(desired_length)
        new_scenario.purchased_items.push(purchased)
        //new_scenario.purchased_items.sort()
        new_scenarios.push(new_scenario)
        //new_scenarios.sort()
    }
  }
  return Copy2(new_scenarios)
}

</script>
<div class="container">
<form class="form-horizontal">
<fieldset>

<!-- Form Name -->
<legend>Trevor and Katie's Royal Game Of Ur</legend>

<!-- Button -->
<div class="form-group">
  <div class="col-md-4">
    <button id="calculate" name="singlebutton" class="btn btn-primary" onclick="Calculate(); return false;">Roll Them Dice!</button>
  </div>
</div>

</fieldset>
</form>

<div id="result">
Have Fun!
</div>

</div>

</body>
</html>